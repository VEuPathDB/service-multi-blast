<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="671pt" height="680pt"
 viewBox="0.00 0.00 671.00 680.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 676)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-676 667,-676 667,4 -4,4"/>
<text text-anchor="middle" x="331.5" y="-656.8" font-family="Times,serif" font-size="14.00">Blast Job Submission</text>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="none" stroke="blue" cx="249" cy="-631" rx="54" ry="18"/>
<text text-anchor="middle" x="249" y="-627.3" font-family="Times,serif" font-size="14.00">Start</text>
</g>
<!-- CalcDigest -->
<g id="node2" class="node">
<title>CalcDigest</title>
<polygon fill="none" stroke="black" points="303,-577 195,-577 195,-541 303,-541 303,-577"/>
<text text-anchor="middle" x="249" y="-562.8" font-family="Times,serif" font-size="14.00">Calculage</text>
<text text-anchor="middle" x="249" y="-547.8" font-family="Times,serif" font-size="14.00">job digest</text>
</g>
<!-- Start&#45;&gt;CalcDigest -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;CalcDigest</title>
<path fill="none" stroke="darkblue" d="M249,-612.83C249,-612.83 249,-587.41 249,-587.41"/>
<polygon fill="darkblue" stroke="darkblue" points="252.5,-587.41 249,-577.41 245.5,-587.41 252.5,-587.41"/>
</g>
<!-- DigestInDB -->
<g id="node3" class="node">
<title>DigestInDB</title>
<polygon fill="none" stroke="black" points="249,-505 195,-460 249,-415 303,-460 249,-505"/>
<text text-anchor="middle" x="249" y="-471.3" font-family="Times,serif" font-size="14.00">Digest</text>
<text text-anchor="middle" x="249" y="-456.3" font-family="Times,serif" font-size="14.00">already</text>
<text text-anchor="middle" x="249" y="-441.3" font-family="Times,serif" font-size="14.00">in DB</text>
</g>
<!-- CalcDigest&#45;&gt;DigestInDB -->
<g id="edge2" class="edge">
<title>CalcDigest&#45;&gt;DigestInDB</title>
<path fill="none" stroke="darkblue" d="M249,-540.84C249,-540.84 249,-515.22 249,-515.22"/>
<polygon fill="darkblue" stroke="darkblue" points="252.5,-515.22 249,-505.22 245.5,-515.22 252.5,-515.22"/>
</g>
<!-- InsertJobInDB -->
<g id="node7" class="node">
<title>InsertJobInDB</title>
<polygon fill="none" stroke="black" points="483,-478 375,-478 375,-442 483,-442 483,-478"/>
<text text-anchor="middle" x="429" y="-463.8" font-family="Times,serif" font-size="14.00">Insert job</text>
<text text-anchor="middle" x="429" y="-448.8" font-family="Times,serif" font-size="14.00">into DB</text>
</g>
<!-- DigestInDB&#45;&gt;InsertJobInDB -->
<g id="edge4" class="edge">
<title>DigestInDB&#45;&gt;InsertJobInDB</title>
<path fill="none" stroke="darkred" d="M303.01,-460C303.01,-460 364.72,-460 364.72,-460"/>
<polygon fill="darkred" stroke="darkred" points="364.72,-463.5 374.72,-460 364.72,-456.5 364.72,-463.5"/>
<text text-anchor="middle" x="313.51" y="-463.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- RefreshJobStatus -->
<g id="node8" class="node">
<title>RefreshJobStatus</title>
<polygon fill="none" stroke="black" points="123,-379 15,-379 15,-343 123,-343 123,-379"/>
<text text-anchor="middle" x="69" y="-364.8" font-family="Times,serif" font-size="14.00">Refresh job</text>
<text text-anchor="middle" x="69" y="-349.8" font-family="Times,serif" font-size="14.00">status</text>
</g>
<!-- DigestInDB&#45;&gt;RefreshJobStatus -->
<!-- LinkUserToJob -->
<g id="node12" class="node">
<title>LinkUserToJob</title>
<polygon fill="none" stroke="black" points="303,-379 195,-379 195,-343 303,-343 303,-379"/>
<text text-anchor="middle" x="249" y="-364.8" font-family="Times,serif" font-size="14.00">Link user</text>
<text text-anchor="middle" x="249" y="-349.8" font-family="Times,serif" font-size="14.00">to job</text>
</g>
<!-- DigestInDB&#45;&gt;LinkUserToJob -->
<!-- IsUserLinkedToJob -->
<g id="node4" class="node">
<title>IsUserLinkedToJob</title>
<polygon fill="none" stroke="black" points="69,-505 15,-460 69,-415 123,-460 69,-505"/>
<text text-anchor="middle" x="69" y="-471.3" font-family="Times,serif" font-size="14.00">User is</text>
<text text-anchor="middle" x="69" y="-456.3" font-family="Times,serif" font-size="14.00">linked</text>
<text text-anchor="middle" x="69" y="-441.3" font-family="Times,serif" font-size="14.00">to job</text>
</g>
<!-- IsUserLinkedToJob&#45;&gt;DigestInDB -->
<g id="edge3" class="edge">
<title>IsUserLinkedToJob&#45;&gt;DigestInDB</title>
<path fill="none" stroke="darkgreen" d="M106.73,-482C106.73,-482 221.24,-482 221.24,-482"/>
<polygon fill="darkgreen" stroke="darkgreen" points="106.73,-478.5 96.73,-482 106.73,-485.5 106.73,-478.5"/>
<text text-anchor="middle" x="208.74" y="-485.8" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- IsUserLinkedToJob&#45;&gt;LinkUserToJob -->
<g id="edge9" class="edge">
<title>IsUserLinkedToJob&#45;&gt;LinkUserToJob</title>
<path fill="none" stroke="darkred" d="M95.73,-437C118.19,-437 146.67,-437 146.67,-437 146.67,-437 146.67,-361 146.67,-361 146.67,-361 184.84,-361 184.84,-361"/>
<polygon fill="darkred" stroke="darkred" points="184.84,-364.5 194.84,-361 184.84,-357.5 184.84,-364.5"/>
<text text-anchor="middle" x="85.23" y="-440.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- CreateWorkspace -->
<g id="node5" class="node">
<title>CreateWorkspace</title>
<polygon fill="none" stroke="black" points="663,-478 555,-478 555,-442 663,-442 663,-478"/>
<text text-anchor="middle" x="609" y="-463.8" font-family="Times,serif" font-size="14.00">Create job</text>
<text text-anchor="middle" x="609" y="-448.8" font-family="Times,serif" font-size="14.00">workspace</text>
</g>
<!-- CreateQueryFile -->
<g id="node6" class="node">
<title>CreateQueryFile</title>
<polygon fill="none" stroke="black" points="663,-379 555,-379 555,-343 663,-343 663,-379"/>
<text text-anchor="middle" x="609" y="-364.8" font-family="Times,serif" font-size="14.00">Create</text>
<text text-anchor="middle" x="609" y="-349.8" font-family="Times,serif" font-size="14.00">query file</text>
</g>
<!-- CreateWorkspace&#45;&gt;CreateQueryFile -->
<g id="edge14" class="edge">
<title>CreateWorkspace&#45;&gt;CreateQueryFile</title>
<path fill="none" stroke="darkblue" d="M609,-441.84C609,-441.84 609,-389.04 609,-389.04"/>
<polygon fill="darkblue" stroke="darkblue" points="612.5,-389.04 609,-379.04 605.5,-389.04 612.5,-389.04"/>
</g>
<!-- SubmitJobToQueue -->
<g id="node13" class="node">
<title>SubmitJobToQueue</title>
<polygon fill="none" stroke="black" points="663,-181 555,-181 555,-145 663,-145 663,-181"/>
<text text-anchor="middle" x="609" y="-166.8" font-family="Times,serif" font-size="14.00">Submit job</text>
<text text-anchor="middle" x="609" y="-151.8" font-family="Times,serif" font-size="14.00">to queue</text>
</g>
<!-- CreateQueryFile&#45;&gt;SubmitJobToQueue -->
<g id="edge15" class="edge">
<title>CreateQueryFile&#45;&gt;SubmitJobToQueue</title>
<path fill="none" stroke="darkblue" d="M609,-342.73C609,-342.73 609,-191.23 609,-191.23"/>
<polygon fill="darkblue" stroke="darkblue" points="612.5,-191.23 609,-181.23 605.5,-191.23 612.5,-191.23"/>
</g>
<!-- InsertJobInDB&#45;&gt;CreateWorkspace -->
<g id="edge5" class="edge">
<title>InsertJobInDB&#45;&gt;CreateWorkspace</title>
<path fill="none" stroke="darkblue" d="M483.01,-460C483.01,-460 544.72,-460 544.72,-460"/>
<polygon fill="darkblue" stroke="darkblue" points="544.72,-463.5 554.72,-460 544.72,-456.5 544.72,-463.5"/>
</g>
<!-- RefreshJobStatus&#45;&gt;IsUserLinkedToJob -->
<g id="edge8" class="edge">
<title>RefreshJobStatus&#45;&gt;IsUserLinkedToJob</title>
<path fill="none" stroke="darkgreen" d="M69,-389.16C69,-389.16 69,-414.78 69,-414.78"/>
<polygon fill="darkgreen" stroke="darkgreen" points="72.5,-389.16 69,-379.16 65.5,-389.16 72.5,-389.16"/>
<text text-anchor="middle" x="56.5" y="-403.58" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- JobStatusFailed -->
<g id="node9" class="node">
<title>JobStatusFailed</title>
<polygon fill="none" stroke="black" points="61,-307 0,-262 61,-217 122,-262 61,-307"/>
<text text-anchor="middle" x="61" y="-273.3" font-family="Times,serif" font-size="14.00">Job</text>
<text text-anchor="middle" x="61" y="-258.3" font-family="Times,serif" font-size="14.00">status is</text>
<text text-anchor="middle" x="61" y="-243.3" font-family="Times,serif" font-size="14.00">failed</text>
</g>
<!-- RefreshJobStatus&#45;&gt;JobStatusFailed -->
<g id="edge10" class="edge">
<title>RefreshJobStatus&#45;&gt;JobStatusFailed</title>
<path fill="none" stroke="darkblue" d="M68.5,-342.84C68.5,-342.84 68.5,-311.79 68.5,-311.79"/>
<polygon fill="darkblue" stroke="darkblue" points="72,-311.79 68.5,-301.79 65,-311.79 72,-311.79"/>
</g>
<!-- JobStillCached -->
<g id="node10" class="node">
<title>JobStillCached</title>
<polygon fill="none" stroke="black" points="249,-292 194,-262 249,-232 304,-262 249,-292"/>
<text text-anchor="middle" x="249" y="-265.8" font-family="Times,serif" font-size="14.00">Job still</text>
<text text-anchor="middle" x="249" y="-250.8" font-family="Times,serif" font-size="14.00">cached</text>
</g>
<!-- JobStatusFailed&#45;&gt;JobStillCached -->
<g id="edge11" class="edge">
<title>JobStatusFailed&#45;&gt;JobStillCached</title>
<path fill="none" stroke="darkred" d="M122.04,-262C122.04,-262 183.98,-262 183.98,-262"/>
<polygon fill="darkred" stroke="darkred" points="183.98,-265.5 193.98,-262 183.98,-258.5 183.98,-265.5"/>
<text text-anchor="middle" x="132.54" y="-265.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- 200 -->
<g id="node16" class="node">
<title>200</title>
<polygon fill="none" stroke="green" points="483,-36 375,-36 375,0 483,0 483,-36"/>
<text text-anchor="middle" x="429" y="-21.8" font-family="Times,serif" font-size="14.00">200</text>
<text text-anchor="middle" x="429" y="-6.8" font-family="Times,serif" font-size="14.00">Return job ID</text>
</g>
<!-- JobStatusFailed&#45;&gt;200 -->
<g id="edge17" class="edge">
<title>JobStatusFailed&#45;&gt;200</title>
<path fill="none" stroke="darkgreen" d="M61,-216.96C61,-146.46 61,-18 61,-18 61,-18 364.7,-18 364.7,-18"/>
<polygon fill="darkgreen" stroke="darkgreen" points="364.7,-21.5 374.7,-18 364.7,-14.5 364.7,-21.5"/>
<text text-anchor="middle" x="48.5" y="-205.76" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- UpdateJobLastUsed -->
<g id="node11" class="node">
<title>UpdateJobLastUsed</title>
<polygon fill="none" stroke="black" points="303,-181 195,-181 195,-145 303,-145 303,-181"/>
<text text-anchor="middle" x="249" y="-166.8" font-family="Times,serif" font-size="14.00">Update job</text>
<text text-anchor="middle" x="249" y="-151.8" font-family="Times,serif" font-size="14.00">last used</text>
</g>
<!-- JobStillCached&#45;&gt;UpdateJobLastUsed -->
<g id="edge12" class="edge">
<title>JobStillCached&#45;&gt;UpdateJobLastUsed</title>
<path fill="none" stroke="darkgreen" d="M249,-231.76C249,-231.76 249,-191.27 249,-191.27"/>
<polygon fill="darkgreen" stroke="darkgreen" points="252.5,-191.27 249,-181.27 245.5,-191.27 252.5,-191.27"/>
<text text-anchor="middle" x="236.5" y="-220.56" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- GetSubJobList -->
<g id="node14" class="node">
<title>GetSubJobList</title>
<polygon fill="none" stroke="black" points="483,-181 375,-181 375,-145 483,-145 483,-181"/>
<text text-anchor="middle" x="429" y="-166.8" font-family="Times,serif" font-size="14.00">Get sub</text>
<text text-anchor="middle" x="429" y="-151.8" font-family="Times,serif" font-size="14.00">job list</text>
</g>
<!-- UpdateJobLastUsed&#45;&gt;GetSubJobList -->
<g id="edge13" class="edge">
<title>UpdateJobLastUsed&#45;&gt;GetSubJobList</title>
<path fill="none" stroke="darkblue" d="M303.01,-163C303.01,-163 364.72,-163 364.72,-163"/>
<polygon fill="darkblue" stroke="darkblue" points="364.72,-166.5 374.72,-163 364.72,-159.5 364.72,-166.5"/>
</g>
<!-- LinkUserToJob&#45;&gt;CreateQueryFile -->
<!-- LinkUserToJob&#45;&gt;RefreshJobStatus -->
<g id="edge6" class="edge">
<title>LinkUserToJob&#45;&gt;RefreshJobStatus</title>
<path fill="none" stroke="darkblue" d="M194.99,-352C194.99,-352 133.28,-352 133.28,-352"/>
<polygon fill="darkblue" stroke="darkblue" points="133.28,-348.5 123.28,-352 133.28,-355.5 133.28,-348.5"/>
</g>
<!-- LinkUserToJob&#45;&gt;JobStillCached -->
<!-- SubmitJobToQueue&#45;&gt;GetSubJobList -->
<g id="edge16" class="edge">
<title>SubmitJobToQueue&#45;&gt;GetSubJobList</title>
<path fill="none" stroke="darkblue" d="M554.99,-163C554.99,-163 493.28,-163 493.28,-163"/>
<polygon fill="darkblue" stroke="darkblue" points="493.28,-159.5 483.28,-163 493.28,-166.5 493.28,-159.5"/>
</g>
<!-- HandleSubJobList -->
<g id="node15" class="node">
<title>HandleSubJobList</title>
<polygon fill="none" stroke="black" points="364,-72.5 364,-108.5 494,-108.5 494,-72.5 364,-72.5"/>
<text text-anchor="middle" x="366.5" y="-86.8" font-family="Times,serif" font-size="14.00"> </text>
<polyline fill="none" stroke="black" points="369,-72.5 369,-108.5 "/>
<text text-anchor="middle" x="429" y="-86.8" font-family="Times,serif" font-size="14.00">Process sub&#45;jobs</text>
<polyline fill="none" stroke="black" points="489,-72.5 489,-108.5 "/>
<text text-anchor="middle" x="491.5" y="-86.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- GetSubJobList&#45;&gt;HandleSubJobList -->
<g id="edge7" class="edge">
<title>GetSubJobList&#45;&gt;HandleSubJobList</title>
<path fill="none" stroke="darkblue" d="M429,-144.71C429,-144.71 429,-118.54 429,-118.54"/>
<polygon fill="darkblue" stroke="darkblue" points="432.5,-118.54 429,-108.54 425.5,-118.54 432.5,-118.54"/>
</g>
<!-- HandleSubJobList&#45;&gt;200 -->
<g id="edge18" class="edge">
<title>HandleSubJobList&#45;&gt;200</title>
<path fill="none" stroke="darkblue" d="M429,-72.21C429,-72.21 429,-46.04 429,-46.04"/>
<polygon fill="darkblue" stroke="darkblue" points="432.5,-46.04 429,-36.04 425.5,-46.04 432.5,-46.04"/>
</g>
</g>
</svg>
