<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="667pt" height="680pt"
 viewBox="0.00 0.00 667.00 680.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 676)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-676 663,-676 663,4 -4,4"/>
<text text-anchor="middle" x="329.5" y="-656.8" font-family="Times,serif" font-size="14.00">Blast Job Submission</text>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="none" stroke="blue" cx="245" cy="-631" rx="54" ry="18"/>
<text text-anchor="middle" x="245" y="-627.3" font-family="Times,serif" font-size="14.00">Start</text>
</g>
<!-- CalcDigest -->
<g id="node2" class="node">
<title>CalcDigest</title>
<polygon fill="none" stroke="black" points="299,-577 191,-577 191,-541 299,-541 299,-577"/>
<text text-anchor="middle" x="245" y="-562.8" font-family="Times,serif" font-size="14.00">Calculage</text>
<text text-anchor="middle" x="245" y="-547.8" font-family="Times,serif" font-size="14.00">job digest</text>
</g>
<!-- Start&#45;&gt;CalcDigest -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;CalcDigest</title>
<path fill="none" stroke="darkblue" d="M245,-612.83C245,-612.83 245,-587.41 245,-587.41"/>
<polygon fill="darkblue" stroke="darkblue" points="248.5,-587.41 245,-577.41 241.5,-587.41 248.5,-587.41"/>
</g>
<!-- DigestInDB -->
<g id="node3" class="node">
<title>DigestInDB</title>
<polygon fill="none" stroke="black" points="245,-505 191,-460 245,-415 299,-460 245,-505"/>
<text text-anchor="middle" x="245" y="-471.3" font-family="Times,serif" font-size="14.00">Digest</text>
<text text-anchor="middle" x="245" y="-456.3" font-family="Times,serif" font-size="14.00">already</text>
<text text-anchor="middle" x="245" y="-441.3" font-family="Times,serif" font-size="14.00">in DB</text>
</g>
<!-- CalcDigest&#45;&gt;DigestInDB -->
<g id="edge2" class="edge">
<title>CalcDigest&#45;&gt;DigestInDB</title>
<path fill="none" stroke="darkblue" d="M245,-540.84C245,-540.84 245,-515.22 245,-515.22"/>
<polygon fill="darkblue" stroke="darkblue" points="248.5,-515.22 245,-505.22 241.5,-515.22 248.5,-515.22"/>
</g>
<!-- InsertJobInDB -->
<g id="node7" class="node">
<title>InsertJobInDB</title>
<polygon fill="none" stroke="black" points="479,-478 371,-478 371,-442 479,-442 479,-478"/>
<text text-anchor="middle" x="425" y="-463.8" font-family="Times,serif" font-size="14.00">Insert job</text>
<text text-anchor="middle" x="425" y="-448.8" font-family="Times,serif" font-size="14.00">into DB</text>
</g>
<!-- DigestInDB&#45;&gt;InsertJobInDB -->
<g id="edge4" class="edge">
<title>DigestInDB&#45;&gt;InsertJobInDB</title>
<path fill="none" stroke="darkred" d="M299.01,-460C299.01,-460 360.72,-460 360.72,-460"/>
<polygon fill="darkred" stroke="darkred" points="360.72,-463.5 370.72,-460 360.72,-456.5 360.72,-463.5"/>
<text text-anchor="middle" x="309.51" y="-463.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- RefreshJobStatus -->
<g id="node8" class="node">
<title>RefreshJobStatus</title>
<polygon fill="none" stroke="black" points="119,-379 11,-379 11,-343 119,-343 119,-379"/>
<text text-anchor="middle" x="65" y="-364.8" font-family="Times,serif" font-size="14.00">Refresh job</text>
<text text-anchor="middle" x="65" y="-349.8" font-family="Times,serif" font-size="14.00">status</text>
</g>
<!-- DigestInDB&#45;&gt;RefreshJobStatus -->
<!-- LinkUserToJob -->
<g id="node12" class="node">
<title>LinkUserToJob</title>
<polygon fill="none" stroke="black" points="303,-379 195,-379 195,-343 303,-343 303,-379"/>
<text text-anchor="middle" x="249" y="-364.8" font-family="Times,serif" font-size="14.00">Link user</text>
<text text-anchor="middle" x="249" y="-349.8" font-family="Times,serif" font-size="14.00">to job</text>
</g>
<!-- DigestInDB&#45;&gt;LinkUserToJob -->
<!-- IsUserLinkedToJob -->
<g id="node4" class="node">
<title>IsUserLinkedToJob</title>
<polygon fill="none" stroke="black" points="65,-505 11,-460 65,-415 119,-460 65,-505"/>
<text text-anchor="middle" x="65" y="-471.3" font-family="Times,serif" font-size="14.00">User is</text>
<text text-anchor="middle" x="65" y="-456.3" font-family="Times,serif" font-size="14.00">linked</text>
<text text-anchor="middle" x="65" y="-441.3" font-family="Times,serif" font-size="14.00">to job</text>
</g>
<!-- IsUserLinkedToJob&#45;&gt;DigestInDB -->
<g id="edge3" class="edge">
<title>IsUserLinkedToJob&#45;&gt;DigestInDB</title>
<path fill="none" stroke="darkgreen" d="M102.73,-482C102.73,-482 217.24,-482 217.24,-482"/>
<polygon fill="darkgreen" stroke="darkgreen" points="102.73,-478.5 92.73,-482 102.73,-485.5 102.73,-478.5"/>
<text text-anchor="middle" x="204.74" y="-485.8" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- IsUserLinkedToJob&#45;&gt;LinkUserToJob -->
<g id="edge9" class="edge">
<title>IsUserLinkedToJob&#45;&gt;LinkUserToJob</title>
<path fill="none" stroke="darkred" d="M119.41,-460C132.77,-460 143.33,-460 143.33,-460 143.33,-460 143.33,-367 143.33,-367 143.33,-367 184.93,-367 184.93,-367"/>
<polygon fill="darkred" stroke="darkred" points="184.93,-370.5 194.93,-367 184.93,-363.5 184.93,-370.5"/>
<text text-anchor="middle" x="129.91" y="-463.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- CreateWorkspace -->
<g id="node5" class="node">
<title>CreateWorkspace</title>
<polygon fill="none" stroke="black" points="659,-478 551,-478 551,-442 659,-442 659,-478"/>
<text text-anchor="middle" x="605" y="-463.8" font-family="Times,serif" font-size="14.00">Create job</text>
<text text-anchor="middle" x="605" y="-448.8" font-family="Times,serif" font-size="14.00">workspace</text>
</g>
<!-- CreateQueryFile -->
<g id="node6" class="node">
<title>CreateQueryFile</title>
<polygon fill="none" stroke="black" points="657,-379 549,-379 549,-343 657,-343 657,-379"/>
<text text-anchor="middle" x="603" y="-364.8" font-family="Times,serif" font-size="14.00">Create</text>
<text text-anchor="middle" x="603" y="-349.8" font-family="Times,serif" font-size="14.00">query file</text>
</g>
<!-- CreateWorkspace&#45;&gt;CreateQueryFile -->
<g id="edge14" class="edge">
<title>CreateWorkspace&#45;&gt;CreateQueryFile</title>
<path fill="none" stroke="darkblue" d="M604,-441.84C604,-441.84 604,-389.04 604,-389.04"/>
<polygon fill="darkblue" stroke="darkblue" points="607.5,-389.04 604,-379.04 600.5,-389.04 607.5,-389.04"/>
</g>
<!-- SubmitJobToQueue -->
<g id="node13" class="node">
<title>SubmitJobToQueue</title>
<polygon fill="none" stroke="black" points="657,-181 549,-181 549,-145 657,-145 657,-181"/>
<text text-anchor="middle" x="603" y="-166.8" font-family="Times,serif" font-size="14.00">Submit job</text>
<text text-anchor="middle" x="603" y="-151.8" font-family="Times,serif" font-size="14.00">to queue</text>
</g>
<!-- CreateQueryFile&#45;&gt;SubmitJobToQueue -->
<g id="edge15" class="edge">
<title>CreateQueryFile&#45;&gt;SubmitJobToQueue</title>
<path fill="none" stroke="darkblue" d="M603,-342.73C603,-342.73 603,-191.23 603,-191.23"/>
<polygon fill="darkblue" stroke="darkblue" points="606.5,-191.23 603,-181.23 599.5,-191.23 606.5,-191.23"/>
</g>
<!-- InsertJobInDB&#45;&gt;CreateWorkspace -->
<g id="edge5" class="edge">
<title>InsertJobInDB&#45;&gt;CreateWorkspace</title>
<path fill="none" stroke="darkblue" d="M479.01,-460C479.01,-460 540.72,-460 540.72,-460"/>
<polygon fill="darkblue" stroke="darkblue" points="540.72,-463.5 550.72,-460 540.72,-456.5 540.72,-463.5"/>
</g>
<!-- RefreshJobStatus&#45;&gt;IsUserLinkedToJob -->
<g id="edge8" class="edge">
<title>RefreshJobStatus&#45;&gt;IsUserLinkedToJob</title>
<path fill="none" stroke="darkgreen" d="M65,-389.16C65,-389.16 65,-414.78 65,-414.78"/>
<polygon fill="darkgreen" stroke="darkgreen" points="68.5,-389.16 65,-379.16 61.5,-389.16 68.5,-389.16"/>
<text text-anchor="middle" x="52.5" y="-403.58" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- JobStatusFailed -->
<g id="node9" class="node">
<title>JobStatusFailed</title>
<polygon fill="none" stroke="black" points="61,-307 0,-262 61,-217 122,-262 61,-307"/>
<text text-anchor="middle" x="61" y="-273.3" font-family="Times,serif" font-size="14.00">Job</text>
<text text-anchor="middle" x="61" y="-258.3" font-family="Times,serif" font-size="14.00">status is</text>
<text text-anchor="middle" x="61" y="-243.3" font-family="Times,serif" font-size="14.00">failed</text>
</g>
<!-- RefreshJobStatus&#45;&gt;JobStatusFailed -->
<g id="edge10" class="edge">
<title>RefreshJobStatus&#45;&gt;JobStatusFailed</title>
<path fill="none" stroke="darkblue" d="M65,-342.84C65,-342.84 65,-314.29 65,-314.29"/>
<polygon fill="darkblue" stroke="darkblue" points="68.5,-314.29 65,-304.29 61.5,-314.29 68.5,-314.29"/>
</g>
<!-- JobStillCached -->
<g id="node10" class="node">
<title>JobStillCached</title>
<polygon fill="none" stroke="black" points="249,-292 194,-262 249,-232 304,-262 249,-292"/>
<text text-anchor="middle" x="249" y="-265.8" font-family="Times,serif" font-size="14.00">Job still</text>
<text text-anchor="middle" x="249" y="-250.8" font-family="Times,serif" font-size="14.00">cached</text>
</g>
<!-- JobStatusFailed&#45;&gt;JobStillCached -->
<g id="edge11" class="edge">
<title>JobStatusFailed&#45;&gt;JobStillCached</title>
<path fill="none" stroke="darkred" d="M122.04,-262C122.04,-262 183.98,-262 183.98,-262"/>
<polygon fill="darkred" stroke="darkred" points="183.98,-265.5 193.98,-262 183.98,-258.5 183.98,-265.5"/>
<text text-anchor="middle" x="132.54" y="-265.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- 200 -->
<g id="node16" class="node">
<title>200</title>
<polygon fill="none" stroke="green" points="474,-36 366,-36 366,0 474,0 474,-36"/>
<text text-anchor="middle" x="420" y="-21.8" font-family="Times,serif" font-size="14.00">200</text>
<text text-anchor="middle" x="420" y="-6.8" font-family="Times,serif" font-size="14.00">Return job ID</text>
</g>
<!-- JobStatusFailed&#45;&gt;200 -->
<g id="edge17" class="edge">
<title>JobStatusFailed&#45;&gt;200</title>
<path fill="none" stroke="darkgreen" d="M61,-216.96C61,-146.46 61,-18 61,-18 61,-18 355.87,-18 355.87,-18"/>
<polygon fill="darkgreen" stroke="darkgreen" points="355.87,-21.5 365.87,-18 355.87,-14.5 355.87,-21.5"/>
<text text-anchor="middle" x="48.5" y="-205.76" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- UpdateJobLastUsed -->
<g id="node11" class="node">
<title>UpdateJobLastUsed</title>
<polygon fill="none" stroke="black" points="294,-181 186,-181 186,-145 294,-145 294,-181"/>
<text text-anchor="middle" x="240" y="-166.8" font-family="Times,serif" font-size="14.00">Update job</text>
<text text-anchor="middle" x="240" y="-151.8" font-family="Times,serif" font-size="14.00">last used</text>
</g>
<!-- JobStillCached&#45;&gt;UpdateJobLastUsed -->
<g id="edge12" class="edge">
<title>JobStillCached&#45;&gt;UpdateJobLastUsed</title>
<path fill="none" stroke="darkgreen" d="M244,-234.69C244,-234.69 244,-191.16 244,-191.16"/>
<polygon fill="darkgreen" stroke="darkgreen" points="247.5,-191.16 244,-181.16 240.5,-191.16 247.5,-191.16"/>
<text text-anchor="middle" x="231.5" y="-223.49" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- GetSubJobList -->
<g id="node14" class="node">
<title>GetSubJobList</title>
<polygon fill="none" stroke="black" points="474,-181 366,-181 366,-145 474,-145 474,-181"/>
<text text-anchor="middle" x="420" y="-166.8" font-family="Times,serif" font-size="14.00">Get sub</text>
<text text-anchor="middle" x="420" y="-151.8" font-family="Times,serif" font-size="14.00">job list</text>
</g>
<!-- UpdateJobLastUsed&#45;&gt;GetSubJobList -->
<g id="edge13" class="edge">
<title>UpdateJobLastUsed&#45;&gt;GetSubJobList</title>
<path fill="none" stroke="darkblue" d="M294.01,-163C294.01,-163 355.72,-163 355.72,-163"/>
<polygon fill="darkblue" stroke="darkblue" points="355.72,-166.5 365.72,-163 355.72,-159.5 355.72,-166.5"/>
</g>
<!-- LinkUserToJob&#45;&gt;CreateQueryFile -->
<!-- LinkUserToJob&#45;&gt;JobStillCached -->
<!-- LinkUserToJob&#45;&gt;GetSubJobList -->
<g id="edge6" class="edge">
<title>LinkUserToJob&#45;&gt;GetSubJobList</title>
<path fill="none" stroke="darkblue" d="M303.42,-355C354.3,-355 422.5,-355 422.5,-355 422.5,-355 422.5,-191.06 422.5,-191.06"/>
<polygon fill="darkblue" stroke="darkblue" points="426,-191.06 422.5,-181.06 419,-191.06 426,-191.06"/>
</g>
<!-- SubmitJobToQueue&#45;&gt;GetSubJobList -->
<g id="edge16" class="edge">
<title>SubmitJobToQueue&#45;&gt;GetSubJobList</title>
<path fill="none" stroke="darkblue" d="M548.59,-163C548.59,-163 484.2,-163 484.2,-163"/>
<polygon fill="darkblue" stroke="darkblue" points="484.2,-159.5 474.2,-163 484.2,-166.5 484.2,-159.5"/>
</g>
<!-- HandleSubJobList -->
<g id="node15" class="node">
<title>HandleSubJobList</title>
<polygon fill="none" stroke="black" points="355,-72.5 355,-108.5 485,-108.5 485,-72.5 355,-72.5"/>
<text text-anchor="middle" x="357.5" y="-86.8" font-family="Times,serif" font-size="14.00"> </text>
<polyline fill="none" stroke="black" points="360,-72.5 360,-108.5 "/>
<text text-anchor="middle" x="420" y="-86.8" font-family="Times,serif" font-size="14.00">Process sub&#45;jobs</text>
<polyline fill="none" stroke="black" points="480,-72.5 480,-108.5 "/>
<text text-anchor="middle" x="482.5" y="-86.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- GetSubJobList&#45;&gt;HandleSubJobList -->
<g id="edge7" class="edge">
<title>GetSubJobList&#45;&gt;HandleSubJobList</title>
<path fill="none" stroke="darkblue" d="M420,-144.71C420,-144.71 420,-118.54 420,-118.54"/>
<polygon fill="darkblue" stroke="darkblue" points="423.5,-118.54 420,-108.54 416.5,-118.54 423.5,-118.54"/>
</g>
<!-- HandleSubJobList&#45;&gt;200 -->
<g id="edge18" class="edge">
<title>HandleSubJobList&#45;&gt;200</title>
<path fill="none" stroke="darkblue" d="M420,-72.21C420,-72.21 420,-46.04 420,-46.04"/>
<polygon fill="darkblue" stroke="darkblue" points="423.5,-46.04 420,-36.04 416.5,-46.04 423.5,-46.04"/>
</g>
</g>
</svg>
