<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="689pt" height="765pt"
 viewBox="0.00 0.00 689.00 765.43" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 761.43)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-761.43 685,-761.43 685,4 -4,4"/>
<!-- DB -->
<g id="node1" class="node">
<title>DB</title>
<path fill="none" stroke="purple" d="M410,-126.73C410,-128.53 390.73,-130 367,-130 343.27,-130 324,-128.53 324,-126.73 324,-126.73 324,-97.27 324,-97.27 324,-95.47 343.27,-94 367,-94 390.73,-94 410,-95.47 410,-97.27 410,-97.27 410,-126.73 410,-126.73"/>
<path fill="none" stroke="purple" d="M410,-126.73C410,-124.92 390.73,-123.45 367,-123.45 343.27,-123.45 324,-124.92 324,-126.73"/>
<text text-anchor="middle" x="367" y="-108.3" font-family="Times,serif" font-size="14.00">MBlast DB</text>
</g>
<!-- FS -->
<g id="node2" class="node">
<title>FS</title>
<path fill="none" stroke="purple" d="M465,-422.98C465,-425.06 445.73,-426.75 422,-426.75 398.27,-426.75 379,-425.06 379,-422.98 379,-422.98 379,-389.02 379,-389.02 379,-386.94 398.27,-385.25 422,-385.25 445.73,-385.25 465,-386.94 465,-389.02 465,-389.02 465,-422.98 465,-422.98"/>
<path fill="none" stroke="purple" d="M465,-422.98C465,-420.9 445.73,-419.21 422,-419.21 398.27,-419.21 379,-420.9 379,-422.98"/>
<text text-anchor="middle" x="422" y="-409.8" font-family="Times,serif" font-size="14.00">MBlast</text>
<text text-anchor="middle" x="422" y="-394.8" font-family="Times,serif" font-size="14.00">Workspaces</text>
</g>
<!-- Queue -->
<g id="node3" class="node">
<title>Queue</title>
<polygon fill="none" stroke="purple" points="174,-534.5 88,-534.5 88,-530.5 84,-530.5 84,-526.5 88,-526.5 88,-506.5 84,-506.5 84,-502.5 88,-502.5 88,-498.5 174,-498.5 174,-534.5"/>
<polyline fill="none" stroke="purple" points="88,-530.5 92,-530.5 92,-526.5 88,-526.5 "/>
<polyline fill="none" stroke="purple" points="88,-506.5 92,-506.5 92,-502.5 88,-502.5 "/>
<text text-anchor="middle" x="131" y="-512.8" font-family="Times,serif" font-size="14.00">Job Queue</text>
</g>
<!-- SwitchQueueStatus -->
<g id="node7" class="node">
<title>SwitchQueueStatus</title>
<polygon fill="none" stroke="black" points="209,-436 107,-406 209,-376 311,-406 209,-436"/>
<text text-anchor="middle" x="209" y="-409.8" font-family="Times,serif" font-size="14.00">Switch:</text>
<text text-anchor="middle" x="209" y="-394.8" font-family="Times,serif" font-size="14.00">$queue.status</text>
</g>
<!-- Queue&#45;&gt;SwitchQueueStatus -->
<!-- LookupQueueStatus -->
<g id="node9" class="node">
<title>LookupQueueStatus</title>
<polygon fill="none" stroke="black" points="329.5,-539 232.5,-539 232.5,-494 329.5,-494 329.5,-539"/>
<text text-anchor="middle" x="281" y="-527.8" font-family="Times,serif" font-size="14.00">Lookup</text>
<text text-anchor="middle" x="281" y="-512.8" font-family="Times,serif" font-size="14.00">queue status:</text>
<text text-anchor="middle" x="281" y="-497.8" font-family="Times,serif" font-size="14.00">$queue</text>
</g>
<!-- Queue&#45;&gt;LookupQueueStatus -->
<g id="edge15" class="edge">
<title>Queue&#45;&gt;LookupQueueStatus</title>
<path fill="none" stroke="#333333" stroke-dasharray="1,5" d="M174.07,-516.5C189.94,-516.5 205.82,-516.5 221.7,-516.5"/>
<polygon fill="#333333" stroke="#333333" points="222.13,-520 232.13,-516.5 222.13,-513 222.13,-520"/>
</g>
<!-- Start -->
<g id="node4" class="node">
<title>Start</title>
<ellipse fill="none" stroke="black" cx="281" cy="-736.21" rx="55.31" ry="21.43"/>
<text text-anchor="middle" x="281" y="-740.01" font-family="Times,serif" font-size="14.00">Start</text>
<text text-anchor="middle" x="281" y="-725.01" font-family="Times,serif" font-size="14.00">input: $job</text>
</g>
<!-- SwitchInStatus -->
<g id="node6" class="node">
<title>SwitchInStatus</title>
<polygon fill="none" stroke="black" points="281,-657 201,-627 281,-597 361,-627 281,-657"/>
<text text-anchor="middle" x="281" y="-630.8" font-family="Times,serif" font-size="14.00">Switch:</text>
<text text-anchor="middle" x="281" y="-615.8" font-family="Times,serif" font-size="14.00">$job.status</text>
</g>
<!-- Start&#45;&gt;SwitchInStatus -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;SwitchInStatus</title>
<path fill="none" stroke="darkblue" d="M281,-714.79C281,-701.44 281,-683.55 281,-667.48"/>
<polygon fill="darkblue" stroke="darkblue" points="284.5,-667.25 281,-657.25 277.5,-667.25 284.5,-667.25"/>
</g>
<!-- End -->
<g id="node5" class="node">
<title>End</title>
<ellipse fill="none" stroke="black" cx="177" cy="-18" rx="43" ry="18"/>
<text text-anchor="middle" x="177" y="-14.3" font-family="Times,serif" font-size="14.00">End</text>
</g>
<!-- SwitchInStatus&#45;&gt;End -->
<g id="edge4" class="edge">
<title>SwitchInStatus:w&#45;&gt;End</title>
<path fill="none" stroke="darkblue" d="M200,-627C67.86,-627 0,-539.14 0,-407 0,-407 0,-407 0,-205 0,-124.26 88.6,-64.66 140.43,-36.71"/>
<polygon fill="darkblue" stroke="darkblue" points="142.13,-39.77 149.34,-32.02 138.86,-33.58 142.13,-39.77"/>
<text text-anchor="start" x="124" y="-645.8" font-family="Times,serif" font-size="14.00">ERRORED</text>
<text text-anchor="start" x="124" y="-630.8" font-family="Times,serif" font-size="14.00">EXPIRED</text>
</g>
<!-- SwitchInStatus&#45;&gt;LookupQueueStatus -->
<g id="edge2" class="edge">
<title>SwitchInStatus:s&#45;&gt;LookupQueueStatus</title>
<path fill="none" stroke="darkblue" d="M281,-597C281,-581.23 281,-563.7 281,-549.12"/>
<polygon fill="darkblue" stroke="darkblue" points="284.5,-549.09 281,-539.09 277.5,-549.09 284.5,-549.09"/>
<text text-anchor="start" x="173" y="-585.8" font-family="Times,serif" font-size="14.00">QUEUED</text>
<text text-anchor="start" x="173" y="-570.8" font-family="Times,serif" font-size="14.00">IN_PROGRESS</text>
</g>
<!-- CheckJobExists -->
<g id="node10" class="node">
<title>CheckJobExists</title>
<polygon fill="none" stroke="black" points="476,-539 388,-539 388,-494 476,-494 476,-539"/>
<text text-anchor="middle" x="432" y="-527.8" font-family="Times,serif" font-size="14.00">Verify</text>
<text text-anchor="middle" x="432" y="-512.8" font-family="Times,serif" font-size="14.00">job exists in</text>
<text text-anchor="middle" x="432" y="-497.8" font-family="Times,serif" font-size="14.00"> workspaces</text>
</g>
<!-- SwitchInStatus&#45;&gt;CheckJobExists -->
<g id="edge3" class="edge">
<title>SwitchInStatus:e&#45;&gt;CheckJobExists</title>
<path fill="none" stroke="darkblue" d="M362,-627C399.26,-627 417.58,-581.44 425.89,-549.1"/>
<polygon fill="darkblue" stroke="darkblue" points="429.35,-549.67 428.24,-539.13 422.53,-548.06 429.35,-549.67"/>
<text text-anchor="middle" x="410.5" y="-630.8" font-family="Times,serif" font-size="14.00">COMPLETED</text>
</g>
<!-- SwitchQueueStatus&#45;&gt;End -->
<g id="edge8" class="edge">
<title>SwitchQueueStatus:sw&#45;&gt;End</title>
<path fill="none" stroke="darkblue" d="M186,-382C94.63,-290.63 143.81,-112.86 167.04,-45.62"/>
<polygon fill="darkblue" stroke="darkblue" points="170.35,-46.76 170.39,-36.17 163.75,-44.42 170.35,-46.76"/>
<text text-anchor="start" x="69" y="-370.8" font-family="Times,serif" font-size="14.00">QUEUED</text>
<text text-anchor="start" x="69" y="-355.8" font-family="Times,serif" font-size="14.00">IN_PROGRESS &#160;</text>
</g>
<!-- SwitchQueueStatus&#45;&gt;CheckJobExists -->
<g id="edge7" class="edge">
<title>SwitchQueueStatus:ne&#45;&gt;CheckJobExists</title>
<path fill="none" stroke="darkblue" d="M232,-430C253.39,-451.39 326.31,-479.48 377.9,-497.52"/>
<polygon fill="darkblue" stroke="darkblue" points="377,-500.91 387.59,-500.88 379.29,-494.3 377,-500.91"/>
<text text-anchor="middle" x="280.5" y="-433.8" font-family="Times,serif" font-size="14.00">COMPLETED</text>
</g>
<!-- SetErrored -->
<g id="node12" class="node">
<title>SetErrored</title>
<polygon fill="none" stroke="black" points="361.5,-318 206.5,-318 206.5,-282 361.5,-282 361.5,-318"/>
<text text-anchor="middle" x="284" y="-296.3" font-family="Times,serif" font-size="14.00">$job.status = errored</text>
</g>
<!-- SwitchQueueStatus&#45;&gt;SetErrored -->
<g id="edge6" class="edge">
<title>SwitchQueueStatus:se&#45;&gt;SetErrored</title>
<path fill="none" stroke="darkblue" d="M232,-382C248.15,-365.85 261.88,-343.85 271.17,-326.86"/>
<polygon fill="darkblue" stroke="darkblue" points="274.27,-328.48 275.86,-318 268.09,-325.2 274.27,-328.48"/>
<text text-anchor="middle" x="274.5" y="-370.8" font-family="Times,serif" font-size="14.00"> &#160;ERRORED</text>
</g>
<!-- JobExistsInWS -->
<g id="node8" class="node">
<title>JobExistsInWS</title>
<polygon fill="none" stroke="black" points="602,-436 523,-406 602,-376 681,-406 602,-436"/>
<text text-anchor="middle" x="602" y="-409.8" font-family="Times,serif" font-size="14.00">Workspace</text>
<text text-anchor="middle" x="602" y="-394.8" font-family="Times,serif" font-size="14.00">exists?</text>
</g>
<!-- JobExistsInWS&#45;&gt;End -->
<g id="edge10" class="edge">
<title>JobExistsInWS:se&#45;&gt;End</title>
<path fill="none" stroke="darkgreen" d="M624,-383C722.59,-284.41 545.59,-161.52 439,-94 373.15,-52.29 283.55,-33.2 228.04,-24.9"/>
<polygon fill="darkgreen" stroke="darkgreen" points="228.48,-21.42 218.08,-23.47 227.48,-28.35 228.48,-21.42"/>
<text text-anchor="middle" x="611.5" y="-371.8" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- SetExpired -->
<g id="node11" class="node">
<title>SetExpired</title>
<polygon fill="none" stroke="black" points="574.5,-318 419.5,-318 419.5,-282 574.5,-282 574.5,-318"/>
<text text-anchor="middle" x="497" y="-296.3" font-family="Times,serif" font-size="14.00">$job.status = expired</text>
</g>
<!-- JobExistsInWS&#45;&gt;SetExpired -->
<g id="edge11" class="edge">
<title>JobExistsInWS:sw&#45;&gt;SetExpired</title>
<path fill="none" stroke="darkred" d="M580,-383C560.5,-363.5 538.26,-341.55 521.72,-325.27"/>
<polygon fill="darkred" stroke="darkred" points="524.13,-322.73 514.55,-318.22 519.22,-327.72 524.13,-322.73"/>
<text text-anchor="middle" x="569.5" y="-371.8" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- LookupQueueStatus&#45;&gt;SwitchQueueStatus -->
<g id="edge5" class="edge">
<title>LookupQueueStatus&#45;&gt;SwitchQueueStatus:n</title>
<path fill="none" stroke="darkblue" d="M245.42,-493.95C229.9,-482.03 214.28,-465.68 210.09,-446.16"/>
<polygon fill="darkblue" stroke="darkblue" points="213.55,-445.57 209,-436 206.59,-446.32 213.55,-445.57"/>
</g>
<!-- CheckJobExists&#45;&gt;FS -->
<g id="edge17" class="edge">
<title>CheckJobExists&#45;&gt;FS</title>
<path fill="none" stroke="#333333" stroke-dasharray="1,5" d="M429.08,-483.8C427.38,-465.38 425.29,-442.74 423.83,-426.83"/>
<polygon fill="#333333" stroke="#333333" points="425.6,-484.17 430,-493.8 432.57,-483.53 425.6,-484.17"/>
</g>
<!-- CheckJobExists&#45;&gt;JobExistsInWS -->
<g id="edge9" class="edge">
<title>CheckJobExists&#45;&gt;JobExistsInWS</title>
<path fill="none" stroke="darkblue" d="M465.99,-493.8C494.53,-475.59 535.24,-449.61 564.68,-430.82"/>
<polygon fill="darkblue" stroke="darkblue" points="566.88,-433.57 573.43,-425.24 563.11,-427.67 566.88,-433.57"/>
</g>
<!-- UpdateDBStatus -->
<g id="node13" class="node">
<title>UpdateDBStatus</title>
<polygon fill="none" stroke="black" points="376,-224 274,-224 274,-188 376,-188 376,-224"/>
<text text-anchor="middle" x="325" y="-209.8" font-family="Times,serif" font-size="14.00">Update status</text>
<text text-anchor="middle" x="325" y="-194.8" font-family="Times,serif" font-size="14.00">in DB</text>
</g>
<!-- SetExpired&#45;&gt;UpdateDBStatus -->
<g id="edge13" class="edge">
<title>SetExpired&#45;&gt;UpdateDBStatus</title>
<path fill="none" stroke="darkblue" d="M465.05,-281.91C437.14,-266.98 396.46,-245.22 366.13,-229"/>
<polygon fill="darkblue" stroke="darkblue" points="367.54,-225.78 357.07,-224.15 364.24,-231.96 367.54,-225.78"/>
</g>
<!-- SetErrored&#45;&gt;SetExpired -->
<!-- SetErrored&#45;&gt;UpdateDBStatus -->
<g id="edge12" class="edge">
<title>SetErrored&#45;&gt;UpdateDBStatus</title>
<path fill="none" stroke="darkblue" d="M291.71,-281.7C297.72,-268.2 306.18,-249.23 313.07,-233.78"/>
<polygon fill="darkblue" stroke="darkblue" points="316.45,-234.79 317.32,-224.23 310.06,-231.94 316.45,-234.79"/>
</g>
<!-- UpdateDBStatus&#45;&gt;DB -->
<g id="edge16" class="edge">
<title>UpdateDBStatus&#45;&gt;DB</title>
<path fill="none" stroke="#333333" stroke-dasharray="1,5" d="M332.9,-187.7C339.12,-174.07 347.89,-154.86 354.98,-139.34"/>
<polygon fill="#333333" stroke="#333333" points="358.17,-140.78 359.14,-130.23 351.8,-137.87 358.17,-140.78"/>
</g>
<!-- UpdateDBStatus&#45;&gt;End -->
<g id="edge14" class="edge">
<title>UpdateDBStatus&#45;&gt;End</title>
<path fill="none" stroke="darkblue" d="M311.34,-187.83C284.93,-154.64 226.79,-81.57 196.38,-43.36"/>
<polygon fill="darkblue" stroke="darkblue" points="198.95,-40.97 189.99,-35.32 193.48,-45.33 198.95,-40.97"/>
</g>
</g>
</svg>
