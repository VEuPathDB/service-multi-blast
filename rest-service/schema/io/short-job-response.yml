"$schema": http://json-schema.org/draft-07/schema

type: object

properties:
  id:
    title: "Query Job ID"
    "$ref": ./hash-id.yml
  description:
    type: string
  status:
    "$ref": ./job-status.yml
  created:
    type: string
    format: date-time
  expires:
    type: string
    format: date-time
  maxDownloadSize:
    type: integer
  isPrimary:
    type: boolean
    default: false
  parentJobs:
    type: array
    items:
      "$ref": "#/definitions/jobLink"
  childJobs:
    type: array
    items:
      "$ref": "#/definitions/jobLink"
  site:
    type: string
  targets:
    type: array
    items:
      "$ref": ./job-target.yml
  isRerunnable:
    type: boolean


required:
- id
- status
- created
- expires
- site

definitions:
  jobLink:
    type: object
    properties:
      id:
        "$ref": ./hash-id.yml
      index:
        type: integer
        minimum: 1
